(this.webpackJsonpReact_async_redux_ToDos=this.webpackJsonpReact_async_redux_ToDos||[]).push([[0],{63:function(e,t,n){},64:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),o=n(10),a=n.n(o),s=n(12),l=n(11),d=function(e){return e.todos.items},u=function(e){return e.todos.items.length},i=function(e){return e.todos.selectedItems.length},b=function(e){return e.todos.selectedItems},j=function(e){return e.todos.filter},f=function(e){return e.todos.loading},h=function(e){return e.todos.error},p=Object(l.a)([d,j],(function(e,t){return e.filter((function(e){return new RegExp(t,"i").test(e.label)}))})),O=Object(l.a)([d],(function(e){return e.filter((function(e){return e.completed})).length})),m=Object(l.a)([u,O],(function(e,t){return e-t})),x=n(7),v=n.n(x),g=n(9),w=n(8),y=n.n(w),C=n(3),k=(Object(C.b)("todos/add",(function(e){return{payload:{id:Object(C.d)(),label:e}}})),Object(C.b)("todos/remove"),Object(C.b)("todos/filter")),N=Object(C.b)("todos/fetch-todos-requested"),I=Object(C.b)("todos/fetch-todos-success"),T=Object(C.b)("todos/fetch-todos-failure"),S=Object(C.b)("todos/add-todo-requested"),D=Object(C.b)("todos/add-todo-success"),V=Object(C.b)("todos/add-todo-failure"),R=Object(C.b)("todos/remove-todo-requested"),z=Object(C.b)("todos/remove-todo-success"),H=Object(C.b)("todos/remove-todo-failure"),M=Object(C.b)("todos/toggleCompletedRequest"),_=Object(C.b)("todos/toggleCompletedSuccess"),q=Object(C.b)("todos/toggleCompletedFailure"),A=Object(C.b)("todos/select-item"),F=Object(C.b)("todos/unselect-item"),L=Object(C.b)("todos/delete-items");y.a.defaults.baseURL="http://localhost:3004";var E,B,J,P,U=n(27),G=n(28),K=n(30),Q=n(29),W=n(1),X=function(){return Object(W.jsx)("div",{className:"text-center",children:Object(W.jsx)("div",{style:{borderTopColor:"transparent"},className:"border-solid animate-spin  rounded-full border-blue-400 border-8 h-20 w-20"})})},Y=n(16),Z=function(e){return Object(W.jsxs)("svg",Object(Y.a)(Object(Y.a)({xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-trash",viewBox:"0 0 16 16"},e),{},{children:[Object(W.jsx)("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}),Object(W.jsx)("path",{fillRule:"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4L4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"})]}))},$=function(e){Object(K.a)(n,e);var t=Object(Q.a)(n);function n(){var e;Object(U.a)(this,n);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={label:""},e.handleChange=function(t){e.setState({label:t.target.value})},e.onSubmit=function(t){t.preventDefault();var n=e.state.label;e.props.addToDo(n),e.setState({label:""})},e.onHandleDelete=function(t){var n=t.target.dataset.id;e.props.deleteTodo(n)},e.onFilterChange=function(t){var n=t.target.value;(0,e.props.filterChange)(n)},e.renderStats=function(){var t=e.props,n=t.completedCount,r=t.noCompletedCount,c=t.todoCount,o=t.selectedItemsCount,a=t.deleteItems,s=t.selectItems;return Object(W.jsxs)("div",{className:"grid grid-cols-2",children:[Object(W.jsxs)("div",{className:"mt-3 shadow-sm",children:[Object(W.jsxs)("h3",{children:["\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e ",n," \u043e\u0441\u0442\u0430\u043b\u043e\u0441\u044c ",r]}),Object(W.jsxs)("h3",{children:["\u0412\u0441\u0435\u0433\u043e: ",c]})]}),Object(W.jsx)("div",{className:"flex items-center justify-end",children:Object(W.jsxs)("div",{className:"flex",children:[Object(W.jsxs)("h3",{children:["\u0412\u044b\u0431\u0440\u0430\u043d\u043e: ",o]}),Object(W.jsx)("button",{className:"bg-red-500 text-white px-2 py-2",onClick:function(){return a(s)},children:Object(W.jsx)(Z,{})})]})})]})},e.handleChangeCheckbox=function(t){var n=t.target,r=n.checked,c=n.name,o=e.props,a=o.unselectItem,s=o.selectItem;r?s(c):a(c)},e}return Object(G.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchTodos()}},{key:"render",value:function(){var e=this;return Object(W.jsx)("div",{className:"h-100 w-full flex items-center justify-center bg-teal-lightest font-sans",children:Object(W.jsxs)("div",{className:"bg-white rounded shadow p-4 m-4 w-full lg:w-3/4 lg:max-w-2xl",children:[Object(W.jsxs)("div",{className:"mb-4",children:[Object(W.jsx)("h1",{className:"text-grey-darkest",children:"Todos List:"}),this.renderStats(),Object(W.jsxs)("form",{className:"flex mt-4",onSubmit:this.onSubmit,children:[Object(W.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 mr-4 text-grey-darker",placeholder:"Add Todo",onChange:this.handleChange,value:this.state.label}),Object(W.jsx)("button",{className:"flex-no-shrink p-2 border-2 rounded text-blue-500 border-blue-400 hover:text-white hover:bg-blue-400",children:"Add"})]})]}),Object(W.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 mr-4 text-grey-darker mb-6",placeholder:"Filter Todo",onChange:this.onFilterChange,value:this.props.filter}),Object(W.jsxs)("div",{children:[this.props.error&&Object(W.jsx)("h3",{children:"Error"}),this.props.todos.map((function(t){var n=t.label,r=t.id,c=t.completed;return Object(W.jsxs)("div",{className:"flex justify-between mb-4 items-center",children:[Object(W.jsxs)("div",{className:"flex",children:[Object(W.jsxs)("label",{className:"inline-flex items-center",children:[Object(W.jsx)("input",{name:r,type:"checkbox",className:"form-checkbox",onChange:e.handleChangeCheckbox}),Object(W.jsx)("span",{className:"ml-2"})]}),Object(W.jsx)("p",{className:"text-grey-darkest",children:n})]}),Object(W.jsxs)("div",{children:[Object(W.jsx)("button",{className:"flex-no-shrink flex-nowrap p-2 ml-2 border-2 rounded ".concat(c?"hover:text-white text-blue-400 border-blue-400 hover:bg-blue-400":"hover:text-white text-green-400 border-green-400 hover:bg-green-400"),onClick:function(){return e.props.toggleCompleted(r,!c)},children:c?"Not done":"Done"}),Object(W.jsx)("button",{className:"flex-no-shrink p-2 ml-2 border-2 rounded text-red-500 border-red-500 hover:text-white hover:bg-red-500","data-id":r,onClick:e.onHandleDelete,children:"Remove"})]})]},r)})),this.props.loading&&Object(W.jsx)(X,{})]})]})})}}]),n}(r.PureComponent),ee={addToDo:function(e){return function(){var t=Object(g.a)(v.a.mark((function t(n){var r,c;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(S()),t.prev=1,t.next=4,y.a.post("/todos",{label:e,completed:!1});case 4:r=t.sent,c=r.data,n(D(c)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),n(V(t.t0));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},deleteTodo:function(e){return function(){var t=Object(g.a)(v.a.mark((function t(n){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(R()),t.prev=1,t.next=4,y.a.delete("/todos/".concat(e));case 4:n(z(e)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),n(H(t.t0));case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}()},fetchTodos:function(){return function(){var e=Object(g.a)(v.a.mark((function e(t,n){var r,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n,"[getState]"),console.log(t,"[dispatch]"),t(N()),e.prev=3,e.next=6,y.a.get("/todos");case 6:r=e.sent,c=r.data,t(I(c)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),t(T(e.t0));case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t,n){return e.apply(this,arguments)}}()},filterChange:k,toggleCompleted:function(e,t){return function(){var n=Object(g.a)(v.a.mark((function n(r){var c,o;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(M()),n.prev=1,n.next=4,y.a.patch("/todos/".concat(e),{completed:t});case 4:c=n.sent,o=c.data,r(_(o)),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),r(q(n.t0));case 12:case"end":return n.stop()}}),n,null,[[1,9]])})));return function(e){return n.apply(this,arguments)}}()},selectItem:A,unselectItem:F,deleteItems:L},te=Object(s.b)((function(e){return{todos:p(e),todoCount:u(e),selectItems:b(e),selectedItemsCount:i(e),completedCount:O(e),noCompletedCount:m(e),filter:j(e),loading:f(e),error:h(e)}}),ee)($),ne=n(6),re=n(2),ce=n(5),oe=function(e,t,n){var r=e.findIndex((function(e){return e[t]===n}));return[].concat(Object(ne.a)(e.slice(0,r)),Object(ne.a)(e.slice(r+1)))},ae=Object(C.c)(!1,(E={},Object(re.a)(E,N,(function(){return!0})),Object(re.a)(E,I,(function(){return!1})),Object(re.a)(E,T,(function(){return!1})),Object(re.a)(E,S,(function(){return!0})),Object(re.a)(E,D,(function(){return!1})),Object(re.a)(E,V,(function(){return!1})),Object(re.a)(E,R,(function(){return!0})),Object(re.a)(E,z,(function(){return!1})),Object(re.a)(E,H,(function(){return!1})),Object(re.a)(E,M,(function(){return!0})),Object(re.a)(E,_,(function(){return!1})),Object(re.a)(E,q,(function(){return!1})),E)),se=Object(C.c)([],(B={},Object(re.a)(B,I,(function(e,t){return t.payload})),Object(re.a)(B,D,(function(e,t){var n=t.payload;return[].concat(Object(ne.a)(e),[n])})),Object(re.a)(B,z,(function(e,t){var n=t.payload;return oe(e,"id",Number(n))})),Object(re.a)(B,L,(function(e,t){var n=t.payload;return e.filter((function(e){return!n.some((function(t){return e.id===Number(t)}))}))})),Object(re.a)(B,_,(function(e,t){var n=t.payload,r=e.findIndex((function(e){return e.id===n.id}));return[].concat(Object(ne.a)(e.slice(0,r)),[n],Object(ne.a)(e.slice(r+1)))})),B)),le=Object(C.c)([],(J={},Object(re.a)(J,A,(function(e,t){var n=t.payload;return[].concat(Object(ne.a)(e),[n])})),Object(re.a)(J,L,(function(e,t){var n=t.payload;return e.filter((function(e){return!n.some((function(t){return+e===+t}))}))})),Object(re.a)(J,F,(function(e,t){var n=t.payload,r=e.findIndex((function(e){return+e===+n}));return[].concat(Object(ne.a)(e.slice(0,r)),Object(ne.a)(e.slice(r+1)))})),J)),de=function(e,t){return t.payload.response.data},ue=function(){return null},ie=Object(C.c)(null,(P={},Object(re.a)(P,N,ue),Object(re.a)(P,T,de),Object(re.a)(P,S,ue),Object(re.a)(P,V,de),Object(re.a)(P,R,ue),Object(re.a)(P,H,de),Object(re.a)(P,M,ue),Object(re.a)(P,q,de),P)),be=Object(C.c)("",Object(re.a)({},k,(function(e,t){return t.payload}))),je={todos:Object(ce.c)({items:se,selectedItems:le,loading:ae,error:ie,filter:be})},fe=Object(C.a)({reducer:je,devTools:!1});n(63);a.a.render(Object(W.jsx)(c.a.StrictMode,{children:Object(W.jsx)(s.a,{store:fe,children:Object(W.jsx)(te,{})})}),document.getElementById("root"))}},[[64,1,2]]]);
//# sourceMappingURL=main.e6dc948d.chunk.js.map